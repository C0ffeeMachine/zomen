{"ast":null,"code":"import _slicedToArray from\"/home/yash/Downloads/zomentum/app1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{Link}from'react-router-dom';function ViewTicket(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tickets=_useState2[0],setTicket=_useState2[1];useEffect(function(){axios.get(\"http://localhost:8080/tickets\")//http://localhost:3005/ticket\n.then(function(res){console.log(res.data);setTicket(res.data);});},[]);var loadTicket=function loadTicket(){axios.get(\"http://localhost:8080/tickets\")//http://localhost:3005/ticket\n.then(function(res){setTicket(res.data);});};var deleteUser=function deleteUser(id){axios.delete(\"http://localhost:8080/tickets/\"+id)//http://localhost:3005/ticket/\n.then(function(res){loadTicket();});};return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-4\"},/*#__PURE__*/React.createElement(\"h1\",null,\"View Tickets\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table border shadow\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"thead-dark\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Id\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"User Name\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Mobile Number\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Booked Date\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Movie Time\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Status\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Action\"))),/*#__PURE__*/React.createElement(\"tbody\",null,tickets.map(function(ticket){return/*#__PURE__*/React.createElement(\"tr\",{key:ticket.id},/*#__PURE__*/React.createElement(\"th\",{scope:\"row\"},ticket.id),/*#__PURE__*/React.createElement(\"td\",null,ticket.userName),/*#__PURE__*/React.createElement(\"td\",null,ticket.mobNumber),/*#__PURE__*/React.createElement(\"td\",null,ticket.bookedDate),/*#__PURE__*/React.createElement(\"td\",null,ticket.movieTime),/*#__PURE__*/React.createElement(\"td\",null,ticket.status),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{className:\"btn btn-primary mr-2\",to:\"/tickets/\".concat(ticket.bookedDate,\"/\").concat(ticket.movieTime)},\"View\"),/*#__PURE__*/React.createElement(Link,{className:\"btn btn-outline-primary mr-2\",to:\"/tickets/user/info/\".concat(ticket.mobNumber)},\"User info\"),/*#__PURE__*/React.createElement(Link,{className:\"btn btn-outline-primary mr-2\",to:\"/tickets/edit/\".concat(ticket.id)},\"Edit\"),/*#__PURE__*/React.createElement(Link,{className:\"btn btn-danger mr-2\",onClick:function onClick(){return deleteUser(ticket.id);}},\"Delete\")));})))));}export default ViewTicket;","map":{"version":3,"sources":["/home/yash/Downloads/zomentum/app1/src/components/tickets/ViewTicket.js"],"names":["React","useState","useEffect","axios","Link","ViewTicket","tickets","setTicket","get","then","res","console","log","data","loadTicket","deleteUser","id","delete","map","ticket","userName","mobNumber","bookedDate","movieTime","status"],"mappings":"yJAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,SAAvB,KAAuC,OAAvC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CAIA,QAASC,CAAAA,UAAT,EAAsB,eAESJ,QAAQ,CAAC,EAAD,CAFjB,wCAEXK,OAFW,eAEHC,SAFG,eAIlBL,SAAS,CAAC,UAAI,CACVC,KAAK,CAACK,GAAN,CAAU,+BAAV,CAA4C;AAA5C,CACCC,IADD,CACM,SAAAC,GAAG,CAAG,CACRC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACAN,SAAS,CAACG,GAAG,CAACG,IAAL,CAAT,CACH,CAJD,EAKH,CANQ,CAMP,EANO,CAAT,CAQA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAK,CACpBX,KAAK,CAACK,GAAN,CAAU,+BAAV,CAA4C;AAA5C,CACCC,IADD,CACM,SAAAC,GAAG,CAAG,CACRH,SAAS,CAACG,GAAG,CAACG,IAAL,CAAT,CACH,CAHD,EAIH,CALD,CAOA,GAAME,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAC,EAAE,CAAG,CACpBb,KAAK,CAACc,MAAN,CAAa,iCAAiCD,EAA9C,CAAkD;AAAlD,CACCP,IADD,CACM,SAAAC,GAAG,CAAE,CACPI,UAAU,GACb,CAHD,EAIH,CALD,CASA,mBACI,2BAAK,SAAS,CAAC,WAAf,eACI,2BAAK,SAAS,CAAC,MAAf,eACI,6CADJ,cAEI,6BAAO,SAAS,CAAC,qBAAjB,eACI,6BAAO,SAAS,CAAC,YAAjB,eACI,2CACA,0BAAI,KAAK,CAAC,KAAV,OADA,cAEA,0BAAI,KAAK,CAAC,KAAV,cAFA,cAGA,0BAAI,KAAK,CAAC,KAAV,kBAHA,cAIA,0BAAI,KAAK,CAAC,KAAV,gBAJA,cAKA,0BAAI,KAAK,CAAC,KAAV,eALA,cAMA,0BAAI,KAAK,CAAC,KAAV,WANA,cAOA,0BAAI,KAAK,CAAC,KAAV,WAPA,CADJ,CADJ,cAYI,iCAEQR,OAAO,CAACY,GAAR,CAAY,SAACC,MAAD,qBACR,0BAAI,GAAG,CAAEA,MAAM,CAACH,EAAhB,eACI,0BAAI,KAAK,CAAC,KAAV,EAAiBG,MAAM,CAACH,EAAxB,CADJ,cAEI,8BAAKG,MAAM,CAACC,QAAZ,CAFJ,cAGI,8BAAKD,MAAM,CAACE,SAAZ,CAHJ,cAII,8BAAKF,MAAM,CAACG,UAAZ,CAJJ,cAKI,8BAAKH,MAAM,CAACI,SAAZ,CALJ,cAMI,8BAAKJ,MAAM,CAACK,MAAZ,CANJ,cAOI,2CACI,oBAAC,IAAD,EAAM,SAAS,CAAC,sBAAhB,CAAwC,EAAE,oBAAcL,MAAM,CAACG,UAArB,aAAmCH,MAAM,CAACI,SAA1C,CAA1C,SADJ,cAEI,oBAAC,IAAD,EAAM,SAAS,CAAC,8BAAhB,CAAgD,EAAE,8BAAwBJ,MAAM,CAACE,SAA/B,CAAlD,cAFJ,cAGI,oBAAC,IAAD,EAAM,SAAS,CAAC,8BAAhB,CAAgD,EAAE,yBAAmBF,MAAM,CAACH,EAA1B,CAAlD,SAHJ,cAII,oBAAC,IAAD,EAAM,SAAS,CAAC,qBAAhB,CAAsC,OAAO,CAAE,yBAAID,CAAAA,UAAU,CAACI,MAAM,CAACH,EAAR,CAAd,EAA/C,WAJJ,CAPJ,CADQ,EAAZ,CAFR,CAZJ,CAFJ,CADJ,CADJ,CAwCH,CAED,cAAeX,CAAAA,UAAf","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\n\n\n\nfunction ViewTicket() {\n\n    const [tickets,setTicket]= useState([])\n\n    useEffect(()=>{\n        axios.get(\"http://localhost:8080/tickets\")  //http://localhost:3005/ticket\n        .then(res =>{\n            console.log(res.data)\n            setTicket(res.data)\n        })\n    },[])\n\n    const loadTicket = () =>{\n        axios.get(\"http://localhost:8080/tickets\")  //http://localhost:3005/ticket\n        .then(res =>{\n            setTicket(res.data)\n        })\n    }\n\n    const deleteUser = id =>{\n        axios.delete(\"http://localhost:8080/tickets/\"+id) //http://localhost:3005/ticket/\n        .then(res=>{\n            loadTicket();\n        })\n    }\n\n\n\n    return (\n        <div className=\"container\">\n            <div className=\"py-4\">\n                <h1>View Tickets</h1>\n                <table className=\"table border shadow\">\n                    <thead className=\"thead-dark\">\n                        <tr>\n                        <th scope=\"col\">Id</th>\n                        <th scope=\"col\">User Name</th>\n                        <th scope=\"col\">Mobile Number</th>\n                        <th scope=\"col\">Booked Date</th>\n                        <th scope=\"col\">Movie Time</th>\n                        <th scope=\"col\">Status</th>\n                        <th scope=\"col\">Action</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {\n                            tickets.map((ticket)=>(\n                                <tr key={ticket.id}>\n                                    <th scope=\"row\">{ticket.id}</th>\n                                    <td>{ticket.userName}</td>\n                                    <td>{ticket.mobNumber}</td>\n                                    <td>{ticket.bookedDate}</td>\n                                    <td>{ticket.movieTime}</td>\n                                    <td>{ticket.status}</td>\n                                    <td> \n                                        <Link className=\"btn btn-primary mr-2\"  to={`/tickets/${ticket.bookedDate}/${ticket.movieTime}`}>View</Link>\n                                        <Link className=\"btn btn-outline-primary mr-2\"  to={`/tickets/user/info/${ticket.mobNumber}`}>User info</Link>\n                                        <Link className=\"btn btn-outline-primary mr-2\"  to={`/tickets/edit/${ticket.id}`}>Edit</Link>\n                                        <Link className=\"btn btn-danger mr-2\" onClick={()=>deleteUser(ticket.id)}>Delete</Link>\n                                    </td>\n                                </tr>\n                            ))\n                        }\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    )\n}\n\nexport default ViewTicket\n"]},"metadata":{},"sourceType":"module"}