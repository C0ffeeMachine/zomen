{"ast":null,"code":"import _defineProperty from\"/home/yash/Downloads/zomentum/app1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/yash/Downloads/zomentum/app1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/yash/Downloads/zomentum/app1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{useParams,useHistory}from'react-router-dom';var initialState={id:0,userName:\"\",mobNumber:\"\",bookedDate:\"\",movieTime:\"\",status:0};// function reducer(state,{field,value}) {\n//     return{\n//         ...state,\n//         [field]:value\n//     }\n// }\nfunction EditTicket(){var history=useHistory();//const [state,dispatch] = useReducer(reducer,initialState)\nvar _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),ticket=_useState2[0],setTicket=_useState2[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){loadTicket();},[]);var loadTicket=function loadTicket(){axios.get(\"/tickets/\"+id)//\"http://localhost:3005/ticket/\"\n.then(function(res){setTicket(res.data);});};var onChange=function onChange(e){//dispatch({ field:e.target.name, value:e.target.value })\nsetTicket(_objectSpread(_objectSpread({},ticket),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();axios.put(\"/tickets/\"+id,ticket).then(function(res){console.log(res.data);history.push(\"/viewtickets\");});};return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-75 mx-auto shadow p-5\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"text-center mb-4\"},\"Edit Ticket\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control form-control-lg\",placeholder:\"Enter your Name\",name:\"userName\",value:ticket.userName,onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control form-control-lg\",placeholder:\"Enter your Mobile Number\",name:\"mobNumber\",value:ticket.mobNumber,onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control form-control-lg\",placeholder:\"Enter Date yyyy-mm-dd\",name:\"bookedDate\",value:ticket.bookedDate,onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control form-control-lg\",placeholder:\"Enter Time hh:mm:ss in 24hr format\",name:\"movieTime\",value:ticket.movieTime,onChange:onChange})),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-warning btn-block\"},\"Update Ticket\"))));}export default EditTicket;","map":{"version":3,"sources":["/home/yash/Downloads/zomentum/app1/src/components/tickets/EditTicket.js"],"names":["React","useState","useEffect","axios","useParams","useHistory","initialState","id","userName","mobNumber","bookedDate","movieTime","status","EditTicket","history","ticket","setTicket","loadTicket","get","then","res","data","onChange","e","target","name","value","onSubmit","preventDefault","put","console","log","push"],"mappings":"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","sourcesContent":["import React ,{useState,useEffect} from 'react'\nimport axios from 'axios'\nimport  {useParams,useHistory} from 'react-router-dom'\n\nconst initialState = {\n    id: 0,\n    userName: \"\",\n    mobNumber: \"\",\n    bookedDate: \"\",\n    movieTime: \"\",\n    status: 0 \n}\n\n// function reducer(state,{field,value}) {\n//     return{\n//         ...state,\n//         [field]:value\n//     }\n// }\n\nfunction EditTicket() {\n\n    let history =useHistory()\n    //const [state,dispatch] = useReducer(reducer,initialState)\n    const [ticket,setTicket] = useState(initialState)\n    const {id} = useParams()\n\n    useEffect(()=>{\n        loadTicket()\n    },[])\n\n    const loadTicket = ()=>{\n        axios.get(\"/tickets/\"+id) //\"http://localhost:3005/ticket/\"\n        .then(res=>{\n            setTicket(res.data)\n        })\n    }\n\n    const onChange = (e) => {\n        //dispatch({ field:e.target.name, value:e.target.value })\n        setTicket({\n            ...ticket,\n            [e.target.name]:e.target.value\n        })\n    }\n\n    const onSubmit = (e) =>{\n        e.preventDefault()\n        axios.put(\"/tickets/\"+id,ticket)\n        .then(res=>{\n            console.log(res.data)\n            history.push(\"/viewtickets\")\n        })\n    }\n\n    return (\n        <div className=\"container\">\n            <div className=\"w-75 mx-auto shadow p-5\">\n                    <h2 className=\"text-center mb-4\">Edit Ticket</h2>\n            <form onSubmit={onSubmit}>\n            <div className=\"form-group\">\n                <input type=\"text\" className=\"form-control form-control-lg\"  placeholder=\"Enter your Name\" name=\"userName\" value={ticket.userName} onChange={onChange}/>\n            </div>\n            <div className=\"form-group\">\n                <input type=\"text\" className=\"form-control form-control-lg\"  placeholder=\"Enter your Mobile Number\" name=\"mobNumber\" value={ticket.mobNumber} onChange={onChange}/>\n            </div>\n            <div className=\"form-group\">\n                <input type=\"text\" className=\"form-control form-control-lg\"  placeholder=\"Enter Date yyyy-mm-dd\" name=\"bookedDate\" value={ticket.bookedDate} onChange={onChange}/>\n            </div>\n            <div className=\"form-group\">\n                <input type=\"text\" className=\"form-control form-control-lg\"  placeholder=\"Enter Time hh:mm:ss in 24hr format\" name=\"movieTime\" value={ticket.movieTime} onChange={onChange}/>\n            </div>\n            <button className=\"btn btn-warning btn-block\">Update Ticket</button>\n            </form>\n            </div>\n        </div>\n    )\n}\n\nexport default EditTicket\n"]},"metadata":{},"sourceType":"module"}